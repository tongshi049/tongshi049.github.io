<!DOCTYPE HTML>
<html lang="null">


<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="TODO List Project - JWT, TongTong Shi&#39;s Blog">
    <meta name="description" content="previous_step

Connecting Spring Security and Spring Boot with JWT1. Introduction to JWT
Basic authentication
As part of">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>TODO List Project - JWT | TongTong Shi&#39;s Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


<body>

<!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">TongTong Shi's Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right nav-menu">
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/" class="waves-effect waves-light">
						
						<i class="fa fa-home"></i>
						
						<span>Index</span>
					</a>
          
        </li>
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/tags" class="waves-effect waves-light">
						
						<i class="fa fa-tags"></i>
						
						<span>Tags</span>
					</a>
          
        </li>
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/about" class="waves-effect waves-light">
						
						<i class="fa fa-user-circle-o"></i>
						
						<span>About</span>
					</a>
          
        </li>
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/contact" class="waves-effect waves-light">
						
						<i class="fa fa-comments"></i>
						
						<span>Contact</span>
					</a>
          
        </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="Search"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">TongTong Shi's Blog</div>
        <div class="logo-desc">
            
            A Playground to Share My Knowledge
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-user-circle-o"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewbox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
    </svg>
</a>
        
    </nav>

</header>





<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/3.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        TODO List Project - JWT
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Project/" target="_blank">
                                <span class="chip bg-color">Project</span>
                            </a>
                        
                            <a href="/tags/Angular/" target="_blank">
                                <span class="chip bg-color">Angular</span>
                            </a>
                        
                            <a href="/tags/Spring-Boot/" target="_blank">
                                <span class="chip bg-color">Spring Boot</span>
                            </a>
                        
                            <a href="/tags/Spring-Security/" target="_blank">
                                <span class="chip bg-color">Spring Security</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2019-06-11
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>Word Count:&nbsp;&nbsp;
                        1.2k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>Read Times:&nbsp;&nbsp;
                        7 Min
                    </div>
                    
                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="fa fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <a href="/2019/06/10/todo-authentication/" title="previous_step">previous_step</a>

<h2 id="Connecting-Spring-Security-and-Spring-Boot-with-JWT"><a href="#Connecting-Spring-Security-and-Spring-Boot-with-JWT" class="headerlink" title="Connecting Spring Security and Spring Boot with JWT"></a>Connecting Spring Security and Spring Boot with JWT</h2><p><font color="dodgerblue"><strong>1. Introduction to JWT</strong></font></p>
<p><font color="tomato"><strong>Basic authentication</strong></font></p>
<p>As part of basic authentication, what we send is a basic 64 encoded username and password. The important thing about basic authentication is there is <font color="purple"><strong>no expiration time</strong></font>. And the other thing is basic authentication token <font color="purple"><strong>doesn’t have any user details on them and any authorization details on them</strong>, </font>it’s pure user id and password. In summarize,</p>
<ul>
<li>Basic authentication<ul>
<li>no expiration time</li>
<li>no user detail</li>
</ul>
</li>
</ul>
<a id="more"></a>

<p><font color="tomato"><strong>Custom Token System</strong></font></p>
<p>There were a number of attemps to extend and create <font color="purple"><strong>custom token</strong></font> based authentication systems. It has the following features,</p>
<ul>
<li>Custom token system<ul>
<li>both teams should understand</li>
<li>custom structure</li>
<li>possible security flaws.</li>
</ul>
</li>
</ul>
<p>The final output of these custom token based authentication systems is that it’s some kind of a hashed value, some tokenized value. Typically these tokens contain the user details, the user authorizations and any other details which the systems are talking to each other might need.</p>
<p>The problem with the custom authentication systems is the <font color="purple"><strong>custom structure</strong></font>, and because of it there might be <font color="purple"><strong>security flaws</strong></font>. </p>
<p><font color="tomato"><strong>JWT</strong></font></p>
<p>So what happened was we wanted a common token standard which is called <font color="purple"><strong>JWT, Jott</strong></font>. It continas features like</p>
<ul>
<li>JWT<ul>
<li>standard</li>
<li>contain user details and authorizations</li>
</ul>
</li>
</ul>
<p>The awesome thing about JWT is that it can contian user authorizations and a number of other details. There is a <font color="purple"><strong>standard</strong></font> by which it is defined, and there is a part where you can <font color="purple"><strong>extend and add custom information</strong></font>.</p>
<p>Next let’s see what’s in <strong>JWT</strong>?<br><img src="JWT.png" width="80%" height="80%"><br>The Jott contians a <em>HEADER</em>, a <em>PAYLOAD</em> and a <em>VERIFY SIGNATURE</em>.</p>
<ul>
<li><strong>HEADER</strong>, define what algorithm you are using for the hashing, and a type (JWT).</li>
<li><strong>PAYLOAD</strong>, contains predefined elements, most of them are not mandentory, you might add what are the authorizations that a specific user has. For example,<ul>
<li>sub: the subject who are we talking about</li>
<li>name: the name of the person</li>
<li>admin: if the user is admin</li>
<li>iat: creation time of the token</li>
</ul>
</li>
<li><strong>VERIFY SIGNATURE</strong>, contains the base 64 encoded paylaod. And also one of the most important part of it is your-512-bit-secret. This is kind of what secret string is provided in the JWT.</li>
</ul>
<p><font color="tomato"><strong>Our Next Steps</strong></font></p>
<p>What we would do next is when user logs in with a user ID and password, we would send a request to the server and we would get JWT token back, and for all the subsequent requests we would using JWT token and we will be positioning it as part of the header. There would be an expiration time also on the Jott tokens and when the expiration data is coming near, you have to send the request to something called refresh token request.</p>
<p><font color="dodgerblue"><strong>2. Importing JWT Framework</strong></font></p>
<p>Need to remove the previous codes related to basic auth out of the package where class <code>TodoListApplication</code> locates. Since these tags can only be applied to one specific class <code>@EnableWebSecurity</code>.</p>
<p>See this post  to know more details about <em>Componet Scan</em> in <em>Spring</em>.</p>
<p><font color="dodgerblue"><strong>3. Executing JWT Resources - Get Token and Refresh Token</strong></font></p>
<p><font color="tomato"><strong>Get Token</strong></font></p>
<p>To get the token, visiting <code>POST http://localhost:8080/authenticate</code> and in the body adding <code>username</code> and <code>password</code>. The request is shown as follows.<br><img src="getTokenRequest.png" width="80%" height="80%"></p>
<ul>
<li>The <em>URL</em> to get the token is set in <code>application.properties</code>.</li>
</ul>
<pre><code>jwt.signing.key.secret=mySecret
jwt.get.token.uri=&#x2F;authenticate
jwt.refresh.token.uri=&#x2F;refresh
jwt.http.request.header=Authorization
jwt.token.expiration.in.seconds=604800</code></pre>

<ul>
<li>The <code>username</code> and <code>password</code> in Request body is set in class <code>JwtInMemoryUserDetailsService</code>.</li>
</ul>
<details>

<summary>CLICK</summary>

<pre><code>@Service
public class JwtInMemoryUserDetailsService implements UserDetailsService {
  static List&lt;JwtUserDetails&gt; inMemoryUserList = new ArrayList&lt;&gt;();

  static {
    inMemoryUserList.add(new JwtUserDetails(1L, &quot;teemo&quot;,
            &quot;$2a$10$3zHzb.Npv1hfZbLEU5qsdOju&#x2F;tk2je6W6PnNnY.c1ujWPcZh4PL6e&quot;, &quot;ROLE_USER_2&quot;));
}

  @Override
  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
    Optional&lt;JwtUserDetails&gt; findFirst = inMemoryUserList.stream()
            .filter(user -&gt; user.getUsername().equals(username)).findFirst();

    if (!findFirst.isPresent()) {
        throw new UsernameNotFoundException(String.format(&quot;USER_NOT_FOUND &#39;%s&#39;.&quot;, username));
    }

    return findFirst.get();
  }
}</code></pre>

</details>

<p>Then we can get the response as follows.<br><img src="getTokenResponse.png" width="90%" height="90%"></p>
<p><font color="tomato"><strong>Use that token when sending other requests</strong></font></p>
<p>When sending request, we add <code>Authentication</code> in the <code>HEADERS</code> like this.<br><img src="requestWithToken.png" width="90%" height="90%"></p>
<p><font color="tomato"><strong>Refresh Token</strong></font></p>
<p>The <em>URL</em> to refresh the token is also defined in <code>application.properties</code> shown above. The request and response are shown as follows.<br><img src="refreshToken.png" width="100%" height="100%"><br><img src="refreshTokenResp.png" width="100%" height="100%"></p>
<p><font color="dodgerblue"><strong>4. Understanding JWT Spring Security Framework Setup</strong></font></p>
<ul>
<li><p><code>JwtTokenUtil.java</code>: processing the token, e.g. creating tokens, getting detials out of the token; also taking care of all the expiration date and that kind of stuff.</p>
</li>
<li><p>Files related to JWT Resources Implementation: <code>AuthenticationException</code>,<code>JwtAuthenticationRestController</code>,<code>JwtTokenRequest</code>,<code>JwtTokenResponse</code>.</p>
</li>
<li><p>Files related to User Details includes <code>JwtInMemoryUserDetailsService</code>, <code>JwtUserDetails</code>.</p>
</li>
<li><p>class <code>JWTWebSecurityConfig</code> extends <code>WebSecurityConfigurerAdapterConfigures</code>, where we set http configures</p>
<ul>
<li><p>userDetailsService with BCryptPasswordEncoder</p>
</li>
<li><p>statelessness! That is we don’t want any session created on the server.</p>
</li>
<li><p>AuthenticationEntryPoint, which is all about handling an anthenticated users. If the user is not authenticated what should send back in our response.</p>
</li>
<li><p>JwtTokenAuthorizationOncePerRequestFilter</p>
</li>
<li><p>/h2-console, h2 is an in memory database, which we would be using hash to control to look at the data in the database. So we would want to ensure the <em>URL</em> <code>/h2-console</code> is not secure.</p>
<p>The code in this part is shown as follows.</p>
</li>
</ul>
</li>
</ul>
<details>

<summary>JWTWebSecurityConfig</summary>

<pre><code>public class JWTWebSecurityConfig extends WebSecurityConfigurerAdapter {

  @Autowired
  private JwtUnAuthorizedResponseAuthenticationEntryPoint jwtUnAuthorizedResponseAuthenticationEntryPoint;

  @Autowired
  private UserDetailsService jwtInMemoryUserDetailsService;

  @Autowired
  private JwtTokenAuthorizationOncePerRequestFilter jwtAuthenticationTokenFilter;

  @Value(&quot;${jwt.get.token.uri}&quot;)
  private String authenticationPath;

  @Autowired
  public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {
    auth
      .userDetailsService(jwtInMemoryUserDetailsService)
      .passwordEncoder(passwordEncoderBean());
  }

  @Bean
  public PasswordEncoder passwordEncoderBean() {
    return new BCryptPasswordEncoder();
  }

  @Bean
  @Override
  public AuthenticationManager authenticationManagerBean() throws Exception {
    return super.authenticationManagerBean();
  }

  @Override
  protected void configure(HttpSecurity httpSecurity) throws Exception {
    httpSecurity
      .csrf().disable()
      .exceptionHandling().authenticationEntryPoint(jwtUnAuthorizedResponseAuthenticationEntryPoint).and()
      .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()
      .authorizeRequests()
      .anyRequest().authenticated();

    httpSecurity
      .addFilterBefore(jwtAuthenticationTokenFilter, UsernamePasswordAuthenticationFilter.class);

    httpSecurity
      .headers()
      .frameOptions().sameOrigin()  &#x2F;&#x2F;H2 Console Needs this setting
      .cacheControl(); &#x2F;&#x2F;disable caching
  }

  @Override
  public void configure(WebSecurity webSecurity) throws Exception {
    webSecurity
      .ignoring()
      .antMatchers(
              HttpMethod.POST,
              authenticationPath
      )
      .antMatchers(HttpMethod.OPTIONS, &quot;&#x2F;**&quot;)
      .and()
      .ignoring()
      .antMatchers(
              HttpMethod.GET,
              &quot;&#x2F;&quot; &#x2F;&#x2F;Other Stuff You want to Ignore
      )
      .and()
      .ignoring()
      .antMatchers(&quot;&#x2F;h2-console&#x2F;**&#x2F;**&quot;);&#x2F;&#x2F;Should not be in Production!
  }
}</code></pre>

</details>

<p><font color="dodgerblue"><strong>5. Creating a New User with Encoded Password</strong></font></p>
<p>We use <code>BCryptPasswordEncoder</code> generating password. For example,</p>
<pre><code>BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();
for (int i = 1; i &lt;= 10; i++) {
  String encodedString = encoder.encode(&quot;qwer&quot;);
  System.out.println(encodedString);
}</code></pre>

<p><font color="dodgerblue"><strong>6. Using JWT Token in Angular Frontend</strong></font></p>
<ul>
<li>In <code>basic-authentication.service.ts</code>, create a new method to generate JWT authentication.</li>
</ul>
<pre><code>executeJWTAuthenticationService(username, password) {
   
  return this.http.post&lt;any&gt;(
    `${API_URL}&#x2F;authenticate`, {
      username,
      password
    }).pipe(
      map(
        data =&gt; {
          sessionStorage.setItem(AUTHENTICATED_USER, username);
          sessionStorage.setItem(TOKEN, `Bearer ${data.token}`);
          return data;
        }
      )
    );

}</code></pre>

<ul>
<li>In <code>login.component.ts</code>, create a new method <code>handleJWTAuthLogin()</code> binding with the Login button. That is,</li>
</ul>
<pre><code>&lt;button class=&quot;btn btn-success&quot; (click)=handleJWTAuthLogin()&gt;Login&lt;&#x2F;button&gt;</code></pre>

<pre><code>handleJWTAuthLogin() {

  this.basicAuthenticationService
    .executeJWTAuthenticationService(this.username, this.password)
    .subscribe(
      data =&gt; {
        console.log(data);
        this.router.navigate([&#39;welcome&#39;, this.username])
        this.invalidLogin = false;
      },
      error =&gt; {
        console.log(error)
        this.invalidLogin = true;
      }
    )
}</code></pre>

<a href="/2019/06/11/todo-db/" title="next_step">next_step</a>
            </div>
            <hr>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>Reprint policy</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
                    <img alt style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png">
                </a>
            </div>
            <br>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">
                    《TODO List Project - JWT》
                </span> by
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2019/06/11/todo-security-JWT/" property="cc:attributionName" rel="cc:attributionURL">
                Tong Shi
            </a> is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
                Creative Commons Attribution 4.0 International License
            </a> 
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2019/06/11/todo-db/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="TODO List Project - JPA and Hibernate">
                        
                        <span class="card-title">TODO List Project - JPA and Hibernate</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            previous_step

Connecting Spring Boot RESTful API with JPA and HibernateThe awesome thing with JPA hibernate, spring hib
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2019-06-11
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-user fa-fw"></i>
                            Tong Shi
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Project/" target="_blank">
                        <span class="chip bg-color">Project</span>
                    </a>
                    
                    <a href="/tags/Angular/" target="_blank">
                        <span class="chip bg-color">Angular</span>
                    </a>
                    
                    <a href="/tags/Spring-Boot/" target="_blank">
                        <span class="chip bg-color">Spring Boot</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/06/10/todo-authentication/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="TODO List Project - Spring Security">
                        
                        <span class="card-title">TODO List Project - Spring Security</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            previous_step

Implementing Basic Authentication with Spring Boot and Spring Security1. Overview of Security with Basic 
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-06-10
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-user fa-fw"></i>
                            Tong Shi
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Project/" target="_blank">
                        <span class="chip bg-color">Project</span>
                    </a>
                    
                    <a href="/tags/Angular/" target="_blank">
                        <span class="chip bg-color">Angular</span>
                    </a>
                    
                    <a href="/tags/Spring-Boot/" target="_blank">
                        <span class="chip bg-color">Spring Boot</span>
                    </a>
                    
                    <a href="/tags/Spring-Security/" target="_blank">
                        <span class="chip bg-color">Spring Security</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            Tong Shi&nbsp;@
            <a href="https://hexo.io/" target="_blank">Hexo</a>&nbsp;
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>&nbsp;
            <br>
            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;Total Words:&nbsp;<span class="white-color">167.6k</span>&nbsp;
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="fa fa-eye"></i>&nbsp;Total visits:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fa fa-users"></i>&nbsp;Total visitors:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;
            </span>
            
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/tongshi049" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:tshi3@ualberta.ca" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>













    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword" class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140095224-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-140095224-1');
</script>



    <script src="/libs/others/clicklove.js"></script>


    <script async src="/libs/others/busuanzi.pure.mini.js"></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>