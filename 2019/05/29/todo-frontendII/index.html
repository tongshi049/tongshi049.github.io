<!DOCTYPE HTML>
<html lang="null">


<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="TODO List Project Part I - Use Angular to build FrontEnd II, TongTong Shi&#39;s Blog">
    <meta name="description" content="previous_step

Build Angular Components for Frond-End

Step 1 : Welcome Component
Creating components using Angular CLI:">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>TODO List Project Part I - Use Angular to build FrontEnd II | TongTong Shi&#39;s Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


<body>

<!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">TongTong Shi's Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right nav-menu">
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/" class="waves-effect waves-light">
						
						<i class="fa fa-home"></i>
						
						<span>Index</span>
					</a>
          
        </li>
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/tags" class="waves-effect waves-light">
						
						<i class="fa fa-tags"></i>
						
						<span>Tags</span>
					</a>
          
        </li>
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/about" class="waves-effect waves-light">
						
						<i class="fa fa-user-circle-o"></i>
						
						<span>About</span>
					</a>
          
        </li>
    
	<li class="hide-on-med-and-down nav-item">
		
					  <a href="/contact" class="waves-effect waves-light">
						
						<i class="fa fa-comments"></i>
						
						<span>Contact</span>
					</a>
          
        </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="Search"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">TongTong Shi's Blog</div>
        <div class="logo-desc">
            
            A Playground to Share My Knowledge
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-user-circle-o"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa fa-fw fa-comments"></i>
			
			Contact
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewbox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
    </svg>
</a>
        
    </nav>

</header>





<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/14.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        TODO List Project Part I - Use Angular to build FrontEnd II
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Project/" target="_blank">
                                <span class="chip bg-color">Project</span>
                            </a>
                        
                            <a href="/tags/Angular/" target="_blank">
                                <span class="chip bg-color">Angular</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2019-05-29
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>Word Count:&nbsp;&nbsp;
                        1.5k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>Read Times:&nbsp;&nbsp;
                        9 Min
                    </div>
                    
                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="fa fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <a href="/2019/05/15/todoList1/" title="previous_step">previous_step</a>

<h2 id="Build-Angular-Components-for-Frond-End"><a href="#Build-Angular-Components-for-Frond-End" class="headerlink" title="Build Angular Components for Frond-End"></a>Build Angular Components for Frond-End</h2><a id="more"></a>

<h3 id="Step-1-Welcome-Component"><a href="#Step-1-Welcome-Component" class="headerlink" title="Step 1 : Welcome Component"></a>Step 1 : Welcome Component</h3><ul>
<li>Creating components using Angular CLI: <code>ng generate component welcome</code>. Note there is not rolling back, so make sure the name is correct before press enter! </li>
<li>The <code>WelcomeComponent</code> has been automatically declared in <code>app.module.ts</code> file. Note every Angular Component (@Component) is associated with <code>NgModule</code> (@NgModule).</li>
</ul>
<h3 id="Step-2-Login-Component"><a href="#Step-2-Login-Component" class="headerlink" title="Step 2: Login Component"></a>Step 2: Login Component</h3><ul>
<li>Creating components using Angular CLI: <code>ng generate component login</code>.</li>
<li>Understanding Event Binding: Adding click event on Login Page.<br>Event binding is like <code>&lt;button (event)=whatShouldYouDo()&gt;Login&lt;/button&gt;</code></li>
<li><code>\{\{\}\}</code>: take the data from component to view</li>
<li><code>ngModel</code>: <code>banana-in-a-box-approach</code>, do data binding from both sides. In order to enable <code>ngModel</code>, we need to <code>import { FormsModule } from &#39;@angular/forms</code> in <code>App.module.ts</code> and add <code>FormsModule</code> in <code>imports</code> array. Code is as follows:</li>
</ul>
<details>
<summary>CLICK ME</summary>

<pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserModule <span class="token punctuation">}</span> from <span class="token string">'@angular/platform-browser'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NgModule <span class="token punctuation">}</span> from <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> FormsModule <span class="token punctuation">}</span> from <span class="token string">'@angular/forms'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRoutingModule <span class="token punctuation">}</span> from <span class="token string">'./app-routing.module'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppComponent <span class="token punctuation">}</span> from <span class="token string">'./app.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> WelcomeComponent <span class="token punctuation">}</span> from <span class="token string">'./welcome/welcome.component'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> LoginComponent <span class="token punctuation">}</span> from <span class="token string">'./login/login.component'</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  declarations<span class="token operator">:</span> <span class="token punctuation">[</span>
    AppComponent<span class="token punctuation">,</span>
    WelcomeComponent<span class="token punctuation">,</span>
    LoginComponent
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    BrowserModule<span class="token punctuation">,</span>
    AppRoutingModule<span class="token punctuation">,</span>
    FormsModule
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  bootstrap<span class="token operator">:</span> <span class="token punctuation">[</span>AppComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
export <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></code></pre>
</details>

<p><strong>Tips: Data Binding Approaches</strong></p>
<ul>
<li>Interpolation: tie a property to a view element</li>
<li>Event binding: bind a event with a component event</li>
<li>Two-way data binding: <code>[(ngModel)]=propertyName</code></li>
</ul>
<h3 id="Step-3-Adding-hardcoded-authentication"><a href="#Step-3-Adding-hardcoded-authentication" class="headerlink" title="Step 3: Adding hardcoded authentication"></a>Step 3: Adding hardcoded authentication</h3><p>The logic component used in Angular, i.e. <code>*ngIf=&#39;invalidLogin&#39;</code></p>
<h3 id="Step-4-Implementing-Routes-for-Login-Welcome-and-Error-Message"><a href="#Step-4-Implementing-Routes-for-Login-Welcome-and-Error-Message" class="headerlink" title="Step 4: Implementing Routes for Login, Welcome and Error Message"></a>Step 4: Implementing Routes for Login, Welcome and Error Message</h3><ul>
<li>Declear <code>path</code> const in <code>app-routing.module.ts</code>.</li>
<li>Add <code>router-outlet</code> tag in app.component.html.</li>
</ul>
<h3 id="Step-5-Creating-an-error-component"><a href="#Step-5-Creating-an-error-component" class="headerlink" title="Step 5: Creating an error component"></a>Step 5: Creating an error component</h3><p>Adding path to error page.<br><code>{ path: &#39;**&#39;, component: ErrorComponent }</code></p>
<h3 id="Step-6-Implementing-Routing-from-Login-to-Welcome-Component"><a href="#Step-6-Implementing-Routing-from-Login-to-Welcome-Component" class="headerlink" title="Step 6: Implementing Routing from Login to Welcome Component"></a>Step 6: Implementing Routing from Login to Welcome Component</h3><p>In file <code>login.component.ts</code>, we want to use the Angular Router to let us redirect from the current <code>login</code> page to <code>welcome</code> page.<br>Then we can make use of <strong>dependency injection</strong>. </p>
<ul>
<li>The concept of dependency injection is basically that if I need something, I should declear it as a dependency and Angular will make sure that depency would be given to us.</li>
<li>In Angular, dependency injection is a built-in feature, so we don’t need to add any lib.</li>
<li>If we want to get the dependency, we need to declare it as a constructor.</li>
<li>Every variable decleared in the constructor will be the member varialbe of this component automatically.</li>
</ul>
<p>For example, in java we usually do it like this</p>
<pre><code>Router router;
constructor (Router router) {
  this.router = router;
}</code></pre>

<p>But in Angular, we don’t need the decleration outside the constructor, that is,</p>
<pre><code>constructor (private router: Router) {}</code></pre>

<p>After inject Router, we can now redirect page.<br><code>this.router.navigate([&#39;welcome&#39;])</code></p>
<p><strong>Adding Route Parameter for Welcome Component</strong><br>Requirement: we want to see <em>Hello, user_name!</em> in the Welcome page. How we get the user_name? We can pass it through <em>URL</em>, say our <em>URL</em> is like <code>localhost:4200/welcome/teemo</code>. Then how we do this?</p>
<ul>
<li>First, in <code>app-routing.module.ts</code>, we set <code>{path: &#39;welcome/:name&#39;}, component: WelcomeComponent</code>.</li>
<li>Activate Router in <code>welcome.component.ts</code>. <pre><code>constructor (private route: ActivatedRoute) {}</code></pre></li>
<li>Get the name from the route.<ul>
<li><code>this.route.snapshot</code>: provides a snapshot of what the parameter is, which are passed in, and from there we can get list of params;</li>
<li><code>this.route.snapshot.params[&#39;name]&#39;</code>: <code>params</code> is a Map and <code>name</code> is the key.</li>
</ul>
</li>
</ul>
<pre><code>this.route.snapshot.params[&#39;name&#39;];</code></pre>

<ul>
<li>Don’t forget to enhance the login router in <code>login.component.ts</code>.</li>
</ul>
<pre><code>this.router.navigate([&#39;welcome&#39;, this.username])</code></pre>

<h3 id="Step-7-Creating-ListTodos-Component"><a href="#Step-7-Creating-ListTodos-Component" class="headerlink" title="Step 7: Creating ListTodos Component"></a>Step 7: Creating ListTodos Component</h3><p><strong>7.1 How can we iterate an array ?</strong></p>
<ul>
<li>In java, we do it like <code>for (Todo todo: todos) {}</code>.</li>
<li>In Angular, we do it like <code>*ngFor (let todo of todos)</code>. We can add it to HTML elements, like <code>&lt;tr *ngFor (let todo of todos)</code>, and <code>todos</code> is provided in <code>.component.ts</code> file.</li>
</ul>
<p><strong>7.2 Creating a link to Todos in Welcome Component</strong><br>We can add a routerLink in <code>&lt;a&gt;</code> directly in <code>welcome.component.html</code>. That is,</p>
<pre><code>You can manage your todos &lt;a routerLink=&quot;&#x2F;todos&quot;&gt;here.&lt;&#x2F;a&gt;</code></pre>

<p>Till now, we have the navigation from <em>Login Page</em> =&gt; <em>Welcome Page</em> =&gt; <em>Todos Page</em>.</p>
<p><strong>7.3 How to format Date() ?</strong><br>We use <code>pipe</code>, which is like,</p>
<pre><code>&lt;tr&gt;{\{ todo.targetDate | date |uppercase }}&lt;&#x2F;tr&gt;</code></pre>

<p><strong><font size="4" color="dodgerblue">Angular Modules</font></strong><br>Some of the angular modules are built into angular framework, such as <code>FormsModule</code>, <code>AppRoutingModule</code>, <code>BrouserModule</code>, <code>NgModule</code>.<br>Angular module is a group of components are that active which are dedicated for a specific purpose, and that module is the fundamental block of use in an angular app. If you want to use a component, you need to import the corresponding angular module.<br><strong>Difference between <em>angular module</em> and <em>javascript module</em>?</strong></p>
<ul>
<li>angular module has the annotation in angular, and it is used to group angular componets, angular building blocks. </li>
<li>JavaScripte Module is any TypeScript or JavaScript file with code in it!</li>
<li>In comparison, angular module is something which has <code>@NgModule</code>, …, annotation on it. Javascript module is used to group different elements which are present in a single file, whereas an angular module is used to group different angular components. These components may be defined in different file.</li>
</ul>
<p><strong><font size="4" color="dodgerblue">Bootstrapping of Angular App with Root Module and Components</font></strong><br>In the bootstrapping of an angular application, there are two things which play a crucial role. They are <em>root Module</em> and <em>root component</em>.</p>
<p><em>AppModule</em> is the module which gets looked at first, app module would load the app component. When the app component is loaded in the end, HTML becauses of this app root the <code>app.component.html</code> is what is rendered.</p>
<p><strong><font size="4" color="dodgerblue">Review of Angular Module and Component</font></strong></p>
<ul>
<li>Angular applications are built using a number of angular modules.</li>
<li>If you want to reuse a module, you need to import specific angular modules.</li>
<li>Whenever you create angular components, you need to associate it with an angular module. An angualr module contains multiple components.</li>
<li>Each component has a template which is basically a HTML file where typical HTML is combined with a few angular specific things, like angualr binding syntax. The style CSS part of it, becaue it is basically the place where put all the data in as well as how should we react to view actions.</li>
<li>Routing helps us navigate from one component to another.</li>
<li><code>ng</code> directives and forms. <code>*ngIf</code>, <code>pipes</code>.</li>
</ul>
<h3 id="Step-8-Adding-Bootstrap-Framework-and-Creating-Componnets-for-Menu-and-Footer"><a href="#Step-8-Adding-Bootstrap-Framework-and-Creating-Componnets-for-Menu-and-Footer" class="headerlink" title="Step 8: Adding Bootstrap Framework and Creating Componnets for Menu and Footer"></a>Step 8: Adding Bootstrap Framework and Creating Componnets for Menu and Footer</h3><p><strong>8.1 Adding Bootstrap</strong></p>
<ul>
<li>In <code>style.css</code>, we import bootstrp.</li>
</ul>
<pre><code>@import url(https:&#x2F;&#x2F;unpkg.com&#x2F;bootstrap@4.1.0&#x2F;dist&#x2F;css&#x2F;bootstrap.min.css)</code></pre>

<p><strong>8.2 Creating Menu and Footer</strong><br>Create <em>Menu</em> and <em>Footer</em> components and add them in the <code>app.component.html</code>.</p>
<p><strong>8.3 Using Bootstrap to create a menu with navigation links</strong></p>
<h3 id="Step-9-User-RouterLink-instead-of-href-for-Routes"><a href="#Step-9-User-RouterLink-instead-of-href-for-Routes" class="headerlink" title="Step 9: User RouterLink instead of href for Routes"></a>Step 9: User RouterLink instead of href for Routes</h3><p>Note that when using <em>href</em> the entire page is refreshed. If we don’t want to reload the entire page, we use <code>routerLink</code>. Since we are developing single page application, we use <code>routerLink</code> in the <em>menu</em> component here.</p>
<h3 id="Step-10-Creating-an-Independent-Authentication-Service-Component"><a href="#Step-10-Creating-an-Independent-Authentication-Service-Component" class="headerlink" title="Step 10: Creating an Independent Authentication Service Component"></a>Step 10: Creating an Independent Authentication Service Component</h3><p><strong>10.1 Create an authentication service</strong><br><code>ng generate service service/hardcodedAuthentication</code><br>Now we have created a service. If we want some to use some logic in the whole app among many components, we choose to use a <em>service</em>.<br>So <font color="dodgerblue">what does a <em>service</em> do?</font> <font color="tomato">It provides logic. If we want to use that logic, we use <em>dependency injection</em>.</font></p>
<h3 id="Step-11-Using-Session-Storage-to-Store-User-Authentication-Token"><a href="#Step-11-Using-Session-Storage-to-Store-User-Authentication-Token" class="headerlink" title="Step 11: Using Session Storage to Store User Authentication Token"></a>Step 11: Using Session Storage to Store User Authentication Token</h3><p><strong>11.1 Using sessionStorage</strong><br><em>sessionStorage</em> is a Web API we can use directly.<br><code>sessionStorage.setItem(&#39;authenticaterUser&#39;, username);</code></p>
<ul>
<li>You can only access data from Local/Session Storage that was set from your website!</li>
<li>Values set into Local Storage persist across browser restarts. Hence, it is less secure!</li>
</ul>
<p><strong>11.2 Enabling Menu Links based on user authentication token</strong><br><code>&lt;a *ngIf=&quot;this.hardcodedAuthentiationService.isUserLoggedIn()&quot; routerLink=&quot;/todos&quot; class=&quot;nav-link&quot;&gt;Todos&lt;/a&gt;</code><br>Note <code>ngOnInit(){}</code> is called only the first time that component is loaded.</p>
<p><strong>11.3 Implementing Logout to remove User Authentication Token</strong><br><code>sessionStorage.removeItem(&#39;authenticaterUser&#39;)</code></p>
<h3 id="Step-12-Securing-Components-Using-Routes-Guard"><a href="#Step-12-Securing-Components-Using-Routes-Guard" class="headerlink" title="Step 12: Securing Components Using Routes Guard"></a>Step 12: Securing Components Using Routes Guard</h3><p><strong>12.1: Creating a RouteGuard service</strong><br><code>ng generate service service/routeGuard</code></p>
<p>Let the <code>RouteGuardService</code> class implements <code>CanActivate</code>, which is from @angular/router. And override <code>canActive</code> method.</p>
<pre><code>export class RouteGuardService implements CanActivate {

  constructor(private hardcodedAuthenticationService: HardcodedAuthenticationService,
              private router: Router) { }

  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {
    if (this.hardcodedAuthenticationService.isUserLoggedIn())
      return true;
    
    &#x2F;&#x2F;if user is not logged in navigate to login page
    this.router.navigate([&#39;login&#39;]);

    return false;
  }

}</code></pre>

<p><strong>12.2 Using RouteGuard service</strong></p>
<p>In <code>app-routing.module.ts</code>, we add it in the routes. That is,<br><code>{ path:&#39;welcome/:name&#39;, component: WelcomeComponent, canActivate: [RouteGuardService] }</code></p>
<a href="/2019/06/06/todo-webservices-REST/" title="next_step">next_step</a>










            </div>
            <hr>

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>Reprint policy</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
                    <img alt style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png">
                </a>
            </div>
            <br>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">
                    《TODO List Project Part I - Use Angular to build FrontEnd II》
                </span> by
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2019/05/29/todo-frontendII/" property="cc:attributionName" rel="cc:attributionURL">
                Tong Shi
            </a> is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
                Creative Commons Attribution 4.0 International License
            </a> 
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2019/05/31/leetcodeQ763/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="Partition Labels">
                        
                        <span class="card-title">Partition Labels</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            LeetCode Q 763 - Partition LabelsA string S of lowercase letters is given. We want to partition this string into as many
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2019-05-31
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-user fa-fw"></i>
                            Tong Shi
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/LeetCode/" target="_blank">
                        <span class="chip bg-color">LeetCode</span>
                    </a>
                    
                    <a href="/tags/Greedy/" target="_blank">
                        <span class="chip bg-color">Greedy</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/05/29/leetcodeQ659/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/19.jpg" class="responsive-img" alt="Split Array into Consecutive Subsequences">
                        
                        <span class="card-title">Split Array into Consecutive Subsequences</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            LeetCode Q 659 - Split Array into Consecutive SubsequencesYou are given an integer array sorted in ascending order (may 
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-05-29
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-user fa-fw"></i>
                            Tong Shi
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/LeetCode/" target="_blank">
                        <span class="chip bg-color">LeetCode</span>
                    </a>
                    
                    <a href="/tags/Greedy/" target="_blank">
                        <span class="chip bg-color">Greedy</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            Tong Shi&nbsp;@
            <a href="https://hexo.io/" target="_blank">Hexo</a>&nbsp;
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>&nbsp;
            <br>
            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;Total Words:&nbsp;<span class="white-color">167.1k</span>&nbsp;
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="fa fa-eye"></i>&nbsp;Total visits:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fa fa-users"></i>&nbsp;Total visitors:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;
            </span>
            
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/tongshi049" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:tshi3@ualberta.ca" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>













    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword" class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140095224-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-140095224-1');
</script>



    <script src="/libs/others/clicklove.js"></script>


    <script async src="/libs/others/busuanzi.pure.mini.js"></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>